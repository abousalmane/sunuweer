<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>sunuweer</title>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
  form{
    font-size: large;
    padding: 5rem;
  }
  .tooltip{
    display: none;
    font-size: smaller;

    color: rgb(175, 32, 7);
  }
  .showTooltip{
    display: inline-block;
    margin-bottom: 20px ;
  }
  form label {
    display: inline-block;
    margin: 1rem 0;
  }
  form input[type=submit]{
    width: 180px;
    display: block;
    padding: 15px 22px;
    font-size: large;
    background: transparent;
    cursor: pointer;
   box-shadow: 5px 10px rgba(0, 0, 0, 0.19);
  }
  form input[type=submit]:hover{
    font-weight: bold;
    transform: translateY(-5px);
  }
</style>
</head>

<body>
  <nav class="navbar fixed">
    <div class="topnav" id="myTopnav">
    <a href="index.html" >Calendrier</a>
    <a href="#news">Rechercher une Date</a>
    <a href="sinscrire.html" class="active">Soyez Informe</a>
    <a href="javascript:void(0);" class="icon" onclick="hamburger()">
      <i class="fa fa-bars"></i>
    </a>
  </div>
  </nav>
<div id='particles-js' class="content" >
  <main>
    <h1>Inscription pour recevoir l'information par SMS </h1>
    <div>
     <form name="weerwi-sms" id="weerwiForm" action="/accuse.html" method="POST" data-netlify="true" onsubmit="return checkForm()">
       <label for="name">Votre Nom:</label><br>
       <span class="tooltip">Un nom ne peut avoir moins de trois caracteres</span><br>
       <input type="text" name="name" id="name" minlength="3" maxlength="30" required><br>
       <label for="tel">Votre numero de Telephone:</label><br>
       <span class="tooltip">Le format du numero saisi est invalide</span><br>
       <input type="tel" name="tel" id="tel" required placeholder="Ex:773455679" title="Saisir un numero telephone sans espace" minlength="9" maxlength="9" pattern="^7[0,6,7,8]{1}[0-9]{3}[0-9]{2}[0-9]{2}"> <br>
       <label for="choises">Je veux recevoir un SMS a chaque: </label> <br>
       <span class="tooltip">Vous devez cochez une case au moins</span><br>
       <input type="checkbox" id="newMoon" name="newMoon" value="nouvelleLune">
       <label for="newMoon"> Debut d'un nouveau mois lunaire </label><br>
       <input type="checkbox" id="WhiteDays" name="WhiteDays" value="joursBlancs">
       <label for="WhiteDays">Veille des jours blancs </label><br>
       <input type="checkbox" id="celebration" name="celebration" value="celebration">
       <label for="celebration">Veille des jours de celebration (Aid, Arafat, Achoura)</label><br> 
    

       <input type="submit" name="submitBtn" id="submitBtn" value="M'INSCRIRE"> <br>
     </form>
  
    </div>
  </main>
</div>
<footer>
  <h1>sunu weer</h1>
</footer>
<script>
            

  function hamburger() {
    var x = document.getElementById("myTopnav");
    if (x.className === "topnav") {
      x.className += " responsive";
    } else {
      x.className = "topnav";
    }
  }
  // Checking the subscriber form
  function checkForm(){
    let validity=true;
    //checking name
    const name=document.getElementById("name");
    if(name.value.length<3){
       document.querySelector(".tooltip").classList.add('showTooltip'); 
       validity= false;
    }
          
    //checking mobile phone number
    const tel= document.getElementById("tel");
      if(! new RegExp(/^7[0,6,7,8]{1}[0-9]{3}[0-9]{2}[0-9]{2}/).test(tel.value)){
        console.log("bad tel");
        document.querySelectorAll(".tooltip")[1].classList.add('showTooltip'); validity= false;
      }
   // checking at least one checkbox is choosed   

    const checkboxes = document.querySelectorAll('input[type=checkbox]');
    const checkboxeLength = checkboxes.length; let i ;
      for(i=0;i<checkboxeLength;i++ ){
        if(checkboxes[i].checked) 
              break;
      }
      if(i===checkboxeLength) validity=false;
      document.querySelectorAll(".tooltip")[2].classList.add('showTooltip');
      return validity;
  }
/*   document.getElementById("weerwiForm").addEventListener('submit', function(e){
   
    if(checkForm()){
      console.log("form ok");
    }
    else{
      console.log("form problem");
      return false;
    }
     e.preventDefault(); 
  }); 
  */
  /* document.getElementById('submitBtn').addEventListener('click', function (){
    if(checkForm()){
      console.log("form ok");
    }
  }); */

  </script>
  <!--http://api.aladhan.com/v1/gToH?date=31-08-2020-->
  <script src="js/script.js" type="text/javascript"></script>
      
  <script src="/js/particles.min.js"></script>
  <script src="/js/app.js"></script>
</body>

</html>